# 笔记

## git相关

### gitignore

[使用说明](https://blog.csdn.net/ThinkWon/article/details/101447866)

如果你已经把不想上传的文件上传到了git仓库，那么你必须先从远程仓库删了它，我们可以从远程仓库直接删除然后pull代码到本地仓库这些文件就会本删除，或者从本地删除这些文件并且在.gitignore文件中添加这些你想忽略的文件，然后再push到远程仓库。

## Python相关

`sys.stdout.write`指令不自带"\n"
`sys.stderr.write`指令不自带"\n
`raise Exception()`可以抛出异常

## 芯片

XC7Z010CLG400-1

## 流水线冒险

<https://zhuanlan.zhihu.com/p/425235910>

### 结构冒险

1. 由于 IF 与 MEM 都需要读取RAM内存, 然而内存地址只有一个, 只能在1个clk中读取1个数据
解决方案: 将 DataCache 和 InstCatch 分开, 使用混合架构的CPU

2. 由于 ID 与 MEM 都需要使用通用寄存器组, 所以要求通用寄存器组必须读写分离,

### 数据冒险

后一条指令的 read_regs_addr 与 前一条指令的 write_regs_addr 相同, 也就是指令之间存在依赖关系

解决方法1: 引入软件NOP, 也就是流水线停顿, 或称"流水线冒泡"

解决方法2: 硬件阻塞, 也就是在ID阶段检测到冲突时, 将后一条指令的ID阶段阻塞, 或称"流水线暂停"

解决方法3: 将每一条指令的的结果数据传输给下一条数据的ALU, 或称"操作数强退/转发"

"load-use"型数据冒险: 解决方法3可以有效解决 "add x30, 1" + "add x30, 2"的问题, 但是无法解决 "ld x30, 0(x0)" + "add x30, 1"的问题, 所以仍需一次硬件阻塞

### 控制冒险

这是由分支跳转导致的冲突.

1. 无条件跳转, 由于跳转的地址在取址阶段就已经确定, 所以通过设计旁路电路, 将计算结果更早地送入PC, 这种方法被称为缩短分支延迟
2. 条件跳转, 使用分支预测 (或是暂停部分流水线)
